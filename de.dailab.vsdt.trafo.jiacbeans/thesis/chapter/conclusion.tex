\chapter{Conclusion}
\label{chap:conclusion}
In this work, we combined two MDE approaches in the domain of multi-agent-systems and brought the benefits of the expressive model BPMN and the developer friendly Java programming language together. As a result, a plugin to VSDT that adds a transformation from BPMN to Jiac Agent Beans was developed. 

First, we presented some information about the target framework JIAC, the used model BPMN, the existing model driven tool VSDT and about the code generating framework JET.  Further we also presented the result of our research about the related state of the art approaches and existing transformations of BPMN to BPEL and JiacV. 

Inspired by the BPMN to JiacV transformation and Wade, we then developed the mapping from BPMN to Jiac Agent Beans as a combination from both approaches. Similar to the presentation of the mapping from BPMN to BPEL that we found in the BPMN specification, we used examples that show an excerpt of the process and the associated code mapped from it to present the mapping from BPMN to Agent Beans. 

The transformation was developed with the benefit of the extensible transformation framework of the VSDT, where we could reuse the built in transformations for the validation, normalization and structure mapping stages. We have shown that VSDT's transformation framework can be extended easily by implementing a transformation for the element mapping stage. To simplify the transformation, an agent bean model was also developed as an intermediate product. During the development process of the Agent Bean model we gained the benefit of MDE provided by eclipse's EMF that enabled us to generate most of the Java code for the Agent Bean model automatically.
To protect the manually added code while allowing a regeneration of the model, we used the help of another EMF solution JMerge.
 
Finally we presented an example process model and showed that our solution has made it possible for agents to be created by designing a BPMN process. This should make it easier for people from the business world to design a software agent or multi agent systems. Further the models created to design the agents can also be used in the communication with non experts e.g when presenting the designed multi agent systems to the stake holders.
%%%%%%%%%%%%%%%%%%%%%%%
%Future work          %
%%%%%%%%%%%%%%%%%%%%%%%
\section{Future Work}
As mentioned in the previous chapters, there are still some problems and open issues regarding the presented solution. Derived from these problems we have identified some work packages that needs to be done in the future.
\subsection{Complete the Mapping}
The mapping discussed in chapter \ref{chap:mapping} is not complete. The next work to be done is to develop a concept for the missing mapping. According to our experience in developing the mapping, it is very helpful to experiment with a self implemented Agent Bean to check whether the code we concepted is doing what we expect it to do.

After all mapping is developed the element mapping has to be implemented in the transformation

\subsection{Solve Open Issues of The Implementation}
As mentioned in section \ref{sec:opi}, there are some open issues in the implementation that needs to be solved. Most of these issues can be solved easily and should be done in a near future. 

The most urgent work that needs to be done is to complete the implementation of the existing mapping concept such as the mapping of event\_based gateway. 
The next urgent work is to provide a better merging solutions to support fine grained customization of the methods. We should also differentiate modifiable and unmodifiable elements of the generated code to prevent the modification of key elements such as the workflow method by the user. 

Further we need to implement the Validation stage to check the validity of the expressions regarding the Java syntax and sort the generated imports to improve the readability of the generated code. 

\subsection{Support Single Agent Communication}
To give a better support single agent communication and to avoid workarounds, we might need to add another implementation of messages. One solution could be made by adding a \textit{reply-to} address in the JiacMessage. This way even if the communication must start with a broadcast request, the response can be sent directly to the requesting agent and so are the following communication. 

\subsection{JET2 Migration}
For the future we might have to study the possibility about migrating the JET transformation to JET2. But because we have successfully implemented the transformation using the older Version of JET, this work has a very low priority and we should really consider whether the migration to JET2 would be beneficial. 

\subsection{Round-Tripping}
Importing any manually implemented Agent Bean would not be applicable, because Java is a very expressive language and there are many ways to implement a concept. However, it would be very nice if the model and the generated Java code can be kept in sync like the WADE-workflow. To achieve this, we might consider to learn something from WADE's approach and develop a special Agent Bean with a well defined structure that matches the BPMN. 

