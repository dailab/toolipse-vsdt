
\chapter{The VSDT Expression Language (VXL)}
\label{sec:vxl}

The BPMN standard does not specify an expression language to be used. Instead, it is assumed that the language of the target framework is used, e.g. XPath.  However, in a tool that provides transformations to various target frameworks this is not an option. While the diagram structure could be translated to the syntax of the target system, the expression, given that they are written in an unknown language, could not -- although all those languages might be very similar.  To address this flaw, the VSDT comes with its own, very simple expression language, the \emph{VSDT Expression Language}, or VXL for short.


\section{Language Features and Syntax}

The VSDT Expression language has been designed to be the greatest common divisor of the expression languages used in the target frameworks.  Thus, most expressions can be given using VXL, in which case they can be validated and -- more importantly -- parsed and translated to the respective expression languages used in the target frameworks.

Below, the complete syntax of VXL is given. As can be seen, it is not much different from that of other languages. Variables have to be marked with a leading \verb|$|, followed by the name of a Property in the scope of the owner of the Expression. The Variable may be followed by one or more accessors, e.g. for access to an array element (e.g. \verb|$foo[2]|) or a field (e.g. \verb|$foo.bar|), or combinations thereof (e.g. \verb|$foo[$n+1].bar|); of course accessors can only be used if the target language and data type supports them. An explanation of the various operations and comparisons can be found in Table~\ref{tab:vxl_op}.

\begin{verbatim}
Term:           Head (Tail)?;
Head:           BracketTerm | Negation | Atom;
Tail:           Operator Term;
BracketTerm:    "(" Term ")";
Negation:       "!" Term;
Atom:           Value | Variable;
Variable:       "$" ID (Accessor)?;
Accessor:       ArrayAccessor | FieldAccessor;
ArrayAccessor:  "[" Term "]" (Accessor)?;
FieldAccessor:  "." ID (Accessor)?;
Value:          STRING | INT | FLOAT| "true" | "false" | "null";
Operator:      "<" | "<=" | "==" | "!=" | ">" | ">=" | 
                "+" | "-" | "*" | "/" | "%" | "&&" | "||" | "++";
\end{verbatim}


\begin{table}[htbp]
\centering
	\caption{VXL Operations and Comparisons}
	\begin{tabular}{r||lc}
		             & \textbf{Name}        & \textbf{Symbol} \\
		\hline
		Operations   & Addition             & \verb_+_	      \\
		             & Subtraction         & \verb_-_	      \\
		             & Multiplication       & \verb_*_        \\
		             & Division             & \verb_/_        \\
		             & Modulo               & \verb_%_        \\
		             & Concatenation        & \verb_++_       \\
		             & Logical \textsc{AND} & \verb_&&_       \\
		             & Logical \textsc{OR}  & \verb_||_       \\
		\hline
		Comparisons & Equal                & \verb_==_       \\
		             & Not Equal            & \verb_!=_       \\
		             & Lesser               & \verb_<_        \\
		             & Lesser or Equal      & \verb_<=_       \\
		             & Greater              & \verb_>_        \\
		             & Greater or Equal     & \verb_>=_
	\end{tabular}
	\label{tab:vxl_op}
\end{table}
